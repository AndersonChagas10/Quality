IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ParLevelHeaderField' AND xtype='U')
create table ParLevelHeaderField (
	Id int primary key not null identity,
	Name varchar(100) not null,
	TableName varchar(100) not null,
	AddDate datetime2 not null,
	AlterDate datetime2, 
	IsActive bit not null default 1
)

go

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ParHeaderFieldGeral' AND xtype='U')
create table ParHeaderFieldGeral (
	Id int not null primary key identity,
	Name varchar(100) not null,
	ParFieldType_Id int not null,
	Description varchar(100),
	ParLevelHeaderField_Id int not null,
	Generic_Id int not null,
	LinkNumberEvaluation bit not null default 0,
	IsActive bit not null default 1,
	IsRequired bit not null default 0,
	Duplicate bit not null default 0,
	AddDate datetime2 not null,
	AlterDate datetime2,
	Foreign key (ParFieldType_Id) references ParFieldType(Id),
	Foreign key (ParLevelHeaderField_Id) references ParLevelHeaderField(Id)
)
go

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='LogTrack' AND xtype='U')
create table LogTrack (
	Id int not null primary key identity,
	UserSgq_Id Int not null,
	Tabela varchar(100) not null,
	Json_Id Int not null,
	Json varchar(900) not null,
	AddDate datetime2 not null,
	ParReason_Id Int foreign key references ParReason(Id) null,
	Motivo varchar(900) null
)
go

BEGIN
   IF NOT EXISTS (Select * from ParLevelHeaderField where id = 1)
   BEGIN
		INSERT into ParLevelHeaderField (Name, TableName, AddDate) VALUES ('Indicador', 'ParLevel1', GETDATE())
   END
END
GO

BEGIN
   IF NOT EXISTS (Select * from ParLevelHeaderField where id = 2)
   BEGIN
		INSERT into ParLevelHeaderField (Name, TableName, AddDate) VALUES ('Monitoramento', 'ParLevel2', GETDATE())
   END
END
GO

BEGIN
   IF NOT EXISTS (Select * from ParLevelHeaderField where id = 3)
   BEGIN
		INSERT into ParLevelHeaderField (Name, TableName, AddDate) VALUES ('Centro de Custo / Seção', 'ParDeparment',  GETDATE())
   END
END
GO

BEGIN
   IF NOT EXISTS (Select * from parcounter where id = 19)
   BEGIN
	insert into parcounter values
	(2,'frequency',getdate(),null,1,19)
   END
END

GO

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='LogTrack' AND xtype='U')
create table LogTrack (
	Id int not null primary key identity,
	UserSgq_Id Int not null,
	Tabela varchar(100) not null,
	Json_Id Int not null,
	Json varchar(900) not null,
	AddDate datetime2 not null
)

GO

BEGIN
   IF NOT EXISTS (Select * from parreasontype where id = 3)
   BEGIN
	insert into parreasontype values
	('Editar Resultado',getdate(),null,1)
   END
END
