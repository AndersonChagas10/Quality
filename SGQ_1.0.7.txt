Elaborador e Aprovador Por Relatorio -- Feitor por: Marcos Augusto -- Data: 27/09/2018 -- DEV-302

Insert into MigrationHistory (Name, AddDate) VALUES ('SGQ_1.0.t_InsercaoParVinculoPeso',GetDate());

GO


IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ParVinculoPeso' AND xtype='U')
create table ParVinculoPeso(
	Id int not null identity primary key,
	Name varchar(max) NOT NULL,
	AddDate datetime not null,
	AlterDate datetime,	
	IsActive bit not null,
	Peso int not null,
	ParCompany_Id int not null FOREIGN key REFERENCES ParCompany(Id),
	ParDepartment_Id int not null FOREIGN key REFERENCES ParDepartment(Id),
	ParLevel2_Id int not null FOREIGN key REFERENCES ParLevel2(Id),
	ParGroupParLevel1_Id int NOT NULL FOREIGN key REFERENCES ParGroupParLevel1(Id),
	ParLevel1_Id int not null FOREIGN key REFERENCES ParLevel1(Id),
	ParLevel3_Id int not null FOREIGN key REFERENCES ParLevel3(Id),	
)

GO
 
ALTER TABLE ParGroupParLevel1
ADD Parent_Id int;

ALTER TABLE ParGroupParLevel1
ADD Hash_Id varchar(900);

GO