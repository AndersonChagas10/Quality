
Insert into MigrationHistory (Name, AddDate) VALUES ('SGQ_1.0.8CreateTabelaMotivoseSchedule',GetDate());

GO

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='MotivoAtraso' AND xtype='U')
Create Table MotivoAtraso (   
	Id int not null identity PRIMARY KEY,
	Motivo varchar(250) not null,
	AddDate datetime not null,
	AlterDate datetime,
	IsActive bit not null default 1
)

GO

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ParEvaluationSchedule' AND xtype='U')
Create Table ParEvaluationSchedule (
		Id int not null identity PRIMARY KEY,
		ParEvaluation_Id int not null FOREIGN KEY REFERENCES ParEvaluation(Id),
        Av int not null,
        Inicio  int not null,
        Fim  int not null,
        Shift_Id  int null,
		AddDate datetime not null,
		AlterDate datetime,
		IsActive bit not null default 1
)

GO
 
 IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='CollectionLevel2XMotivoAtraso' AND xtype='U')
 create table CollectionLevel2XMotivoAtraso (
	Id int primary key identity not null,
	AddDate datetime not null,
	AlterDate datetime,
	CollectionLevel2_Id int foreign key references CollectionLevel2(Id),
	MotivoAtraso_Id int not null foreign key references MotivoAtraso(Id)
)

GO


 


