<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Template Mobile</title>
		<link href="../../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../../plugins/float_button/css/kc.fab.css"/>
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	</head>
	<body role="document">
  
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="usa_audit_menu_carcass.html"> << </a>
					<a class="navbar-brand" href="#">Carcass Contamination Audit</a>
				</div>
			</div>
		</nav>
	
		<div class="container" role="main" style="margin-top: 64px;">
		
			<div class="panel panel-default">
			  <div class="panel-heading">Area 1</div>
			</div>
			
			<div class="panel panel-default">
			  <div class="panel-body">
				<div class="row">
					<div class="col-xs-6">Audit</div>
					<div class="col-xs-6">1/4</div>
					<div class="col-xs-6">Inspection</div>
					<div class="col-xs-6">1/10</div>
					<div class="col-xs-6 total-errors">Total Defects</div>
					<div class="col-xs-6 total-errors total-errors-label">0
					</div>
					<div class="col-xs-6 total-sides-errors"><b>Total</b></div>
					<div class="col-xs-6 total-sides-errors">
						<b>
							<label class="col-xs-6 total-sides-errors-label" style="padding: 0px;">0</label>
						</b>
					</div>
				</div>	
			  </div>
			</div>
			
			<div class="row">
				<div class="col-xs-offset-10 col-xs-2 text-center">N/A</div>
			</div>	
			
			<div class="Level2s list-group" style="margin-top: 16px;  padding-bottom: 70px;">
				<a class="list-group-item audit-item">
					<div class="row">
						<div class="col-xs-6">
							<h4 class="list-group-item-heading audit-desc">Specks </h4>
						</div>
						<div class="col-xs-4 text-center">
							<div class="input-group input-group-sm">
								<span class="input-group-btn btn-minus">
									<button class="btn btn-default" type="button">
										<i class="fa fa-minus" aria-hidden="true"></i>
									</button>
								</span>
								<input value="0" min="0" type="number" class="form-control text-center audit-value">
								<span class="input-group-btn">
									<button class="btn btn-default btn-plus" type="button">
										<i class="fa fa-plus" aria-hidden="true"></i>
									</button>
								</span>
							</div><!-- /input-group -->
						</div>
						<div class="col-xs-2 text-center" style="width: 160px; height: 30px;">
							<h4 class="list-group-item-heading audit-na" style="width: 160px; height: 30px;"></h4>
						</div>
					</div>	
				</a>
				<a class="list-group-item audit-item">
					<div class="row">
						<div class="col-xs-6">
							<h4 class="list-group-item-heading audit-desc">Dressing </h4>
						</div>
						<div class="col-xs-4 text-center">
							<div class="input-group input-group-sm">
								<span class="input-group-btn btn-minus">
									<button class="btn btn-default" type="button">
										<i class="fa fa-minus" aria-hidden="true"></i>
									</button>
								</span>
								<input value="0" min="0" type="number" class="form-control text-center audit-value">
								<span class="input-group-btn">
									<button class="btn btn-default btn-plus" type="button">
										<i class="fa fa-plus" aria-hidden="true"></i>
									</button>
								</span>
							</div><!-- /input-group -->
						</div>
						<div class="col-xs-2 text-center" style="width: 160px; height: 30px;">
							<h4 class="list-group-item-heading audit-na" style="width: 160px; height: 30px;"></h4>
						</div>
					</div>	
				</a>
				<a class="list-group-item audit-item">
					<div class="row">
						<div class="col-xs-6">
							<h4 class="list-group-item-heading audit-desc">Single Hairs </h4>
						</div>
						<div class="col-xs-4 text-center">
							<div class="input-group input-group-sm">
								<span class="input-group-btn btn-minus">
									<button class="btn btn-default" type="button">
										<i class="fa fa-minus" aria-hidden="true"></i>
									</button>
								</span>
								<input value="0" min="0" type="number" class="form-control text-center audit-value">
								<span class="input-group-btn">
									<button class="btn btn-default btn-plus" type="button">
										<i class="fa fa-plus" aria-hidden="true"></i>
									</button>
								</span>
							</div><!-- /input-group -->
						</div>
						<div class="col-xs-2 text-center" style="width: 160px; height: 30px;">
							<h4 class="list-group-item-heading audit-na" style="width: 160px; height: 30px;"></h4>
						</div>
					</div>	
				</a>
				<a class="list-group-item audit-item">
					<div class="row">
						<div class="col-xs-6">
							<h4 class="list-group-item-heading audit-desc">Clusters </h4>
						</div>
						<div class="col-xs-4 text-center">
							<div class="input-group input-group-sm">
								<span class="input-group-btn btn-minus">
									<button class="btn btn-default" type="button">
										<i class="fa fa-minus" aria-hidden="true"></i>
									</button>
								</span>
								<input value="0" min="0" type="number" class="form-control text-center audit-value">
								<span class="input-group-btn">
									<button class="btn btn-default btn-plus" type="button">
										<i class="fa fa-plus" aria-hidden="true"></i>
									</button>
								</span>
							</div><!-- /input-group -->
						</div>
						<div class="col-xs-2 text-center">
							<h4 class="list-group-item-heading audit-na" style="width: 160px; height: 30px;"></h4>
						</div>
					</div>	
				</a>
				<a class="list-group-item audit-item">
					<div class="row">
						<div class="col-xs-6">
							<h4 class="list-group-item-heading audit-desc">Hide </h4>
						</div>
						<div class="col-xs-4 text-center">
							<div class="input-group input-group-sm">
								<span class="input-group-btn btn-minus">
									<button class="btn btn-default" type="button">
										<i class="fa fa-minus" aria-hidden="true"></i>
									</button>
								</span>
								<input value="0" min="0" type="number" class="form-control text-center audit-value">
								<span class="input-group-btn">
									<button class="btn btn-default btn-plus" type="button">
										<i class="fa fa-plus" aria-hidden="true"></i>
									</button>
								</span>
							</div><!-- /input-group -->
						</div>
						<div class="col-xs-2 text-center">
							<h4 class="list-group-item-heading audit-na" style="width: 160px; height: 30px;"></h4>
						</div>
					</div>	
				</a>
			</div>
			<div class="kc_fab_wrapper" ></div><!--Save-->
		</div>
		
		
		<script src="../../plugins/jquery/jquery.min.js"></script>
		<script src="../../plugins/bootstrap/js/bootstrap.min.js"></script>
		<script src="../../plugins/float_button/js/kc.fab.min.js"></script>
		<script>
			$(function(){
			
				var errors = 3;
				
				$('.btn-minus').click(function(e){
					e.preventDefault();					
					$that = $(this);
					
					if(parseInt($that.parents(".audit-item").find(".audit-value").val()) != 0){
						$that.parents(".audit-item").find(".audit-value").val(parseInt($that.parents(".audit-item").find(".audit-value").val())-1);
					}
					changeInputBackground();
					totalErrors();
				});
				
				$('.btn-plus').click(function(e){
					e.preventDefault();					
					$that = $(this); 
					
					$that.parents(".audit-item").find(".audit-value").val(parseInt($that.parents(".audit-item").find(".audit-value").val())+1);
					changeInputBackground();
					totalErrors();
				});
				
				$('.audit-na').click(function(e){
					
					e.preventDefault();					
					$that = $(this);
					
					if($that.parents('.audit-item').hasClass('disabled')){
						$that.parents('.audit-item').removeClass('disabled');							
						$that.parents('.audit-item').find('.audit-na').text('');
						$that.parents('.audit-item').find('.audit-core').text('Yes');
						$that.parents('.audit-item').find('.audit-others').text('Yes');
						$that.parents(".audit-item").find(".audit-value").attr("readonly", false);
					}else{
						$that.parents('.audit-item').addClass('disabled');
						$that.parents('.audit-item').find('.audit-na').text('N/A');
						$that.parents('.audit-item').find('.audit-core').text('');
						$that.parents('.audit-item').find('.audit-others').text('');
						$that.parents(".audit-item").find(".audit-value").attr("readonly", true);
						$that.parents(".audit-item").find(".audit-value").val(0);
					}
					
					changeInputBackground();
					totalErrors();
					
				})
				
				function changeInputBackground(){
					if(parseInt($that.parents(".audit-item").find(".audit-value").val()) >= errors){
						$that.parents(".audit-item").find(".audit-value").css({'background-color' : '#ffb2b2'});
					}else{
						$that.parents(".audit-item").find(".audit-value").css({'background-color' : 'white'});
					}
				}
				
				function totalErrors(){
					var i, $auditvalue = $('.audit-value');
					var sumErrors = 0, sumErrosSides = 0;
					
					for (i=0; i<$auditvalue.length; i++){
						if(parseInt($auditvalue.eq(i).val()) > 0){
							sumErrors = sumErrors + parseInt($auditvalue.eq(i).val());
						}
					}
					
					$('.total-errors-label').text(sumErrors);
					
					if(sumErrors > 0){
						sumErrosSides = 1;
					}else{
						sumErrosSides = 0;
					}
					
					if(sumErrors >= 3){
						$('.total-errors').css({'background-color' : '#ffb2b2'});
					}else{
						$('.total-errors').css({'background-color' : 'white'});
					}
					
					$('.total-sides-errors-label').text(sumErrosSides);
				}
				
				$(document).ready(function(){
				
					$('body').css("font-family", "Gotham");
					var links = [
						{
							"bgcolor":"orange",
							"icon":"<i class='fa fa-save'></i>"
						},
						{
							"url":"http://www.example.com",
							"bgcolor":"red",
							"color":"#fffff",
							"icon":"<i class='fa fa-close'></i>",
							"target":"_blank",
							"title": "cancelar"
						},
						{
							"url":"http://www.example.com",
							"bgcolor":"blue",
							"color":"white",
							"icon":"<i class='fa fa-check'></i>",
							"title": "salvar"
						}
					]
					$('.kc_fab_wrapper').kc_fab(links);
				})
				
			})
			
		</script>
	</body>
</html>