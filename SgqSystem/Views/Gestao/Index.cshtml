@using DTO
@using Dominio.Enum
@model IEnumerable<Dominio.ItemMenu>
@{
    ViewBag.Title = Resources.Resource.management;
    var version = ViewBag.Asembly;
    var urlScorecard = Url.Action("Scorecard", "RelatoriosSgq");
    var urlRelatorioDiario = Url.Action("RelatorioDiario", "RelatoriosSgq");
    var urlApontamentosDiarios = Url.Action("ApontamentosDiarios", "RelatoriosSgq");
    var urlNaoConformidade = Url.Action("NaoConformidade", "RelatoriosSgq");
    var urlVerificacaoTipificacao = Url.Action("VerificacaoTipificacao", "RelatoriosSgq");
    var urlVisaoGeralDaArea = Url.Action("VisaoGeralDaArea", "RelatoriosSgq");
    var urlAcaoCorretiva = Url.Action("CorrectiveActionreport", "Reports");
    var urlEvolutivo = Url.Action("RelatorioDeResultados", "RelatoriosSgq");
    var urlCEP = Url.Action("CartasCep", "RelatoriosSgq");

}

<style>

    #divMenu {
        width: 450px;
        height: 450px;
        margin: auto;
        background-repeat: no-repeat;
        background-position: center;
        background-size: 400px;
        font-family: 'Century Gothic';
        font-size: small;
    }

    .circuloPDCA, .seta {
        display: inline-block;
        cursor: pointer;
        width: 150px;
        height: 150px !important;
        font-weight: bold;
        color: #333;
        background-repeat: no-repeat;
        background-size: cover;
        text-align: center;
        align-items: center;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        padding: 10px;
    }

        .circuloPDCA, .circuloPDCA:focus {
            outline: none !important;
            border-radius: 50% !important;
        }

            .circuloPDCA p {
                text-align: center;
                display: block;
            }


    #circulo1Plan {
        background-image: url('../Imagens/P.png');
    }

    #circulo2Do {
        background-image: url('../Imagens/D.png');
    }

    #circulo3Check {
        background-image: url('../Imagens/C.png');
    }

    #circulo4Action {
        background-image: url('../Imagens/A.png');
    }


    #circulo1Plan:hover, #circulo1Plan:focus {
        background-color: #f89a1b;
    }

    #circulo2Do:hover, #circulo2Do:focus {
        background-color: #99d01d;
    }

    #circulo3Check:hover, #circulo3Check:focus {
        background-color: #e94b4b;
    }

    #circulo4Action:hover, #circulo4Action:focus {
        background-color: #0abdd5;
    }

    .seta {
        background-image: url('../Imagens/seta.png');
        background-size: 50px 50px;
        background-position: left bottom;
    }

    .seta90 {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        background-position: left bottom;
    }

    .seta180 {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        background-position: left bottom;
    }

    .seta270 {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        background-position: left bottom;
    }

    .fundoMenu {
        position: absolute;
        height: 450px;
        width: 450px;
    }

    #fundoMenuSuperior {
        position: absolute;
        top: 0px;
        height: 450px;
        width: 450px;
        display: none;
        z-index: 1;
    }

    .item-menu, .item-sub-menu {
        height: 30px;
        padding: 0px;
    }

        .item-menu a, .item-sub-menu a {
            display: block;
            height: 30px;
            vertical-align: middle;
            line-height: 30px;
            padding: 1px 3px 1px 8px;
            color: #959fae;
            text-decoration: none;
        }

            .item-menu a:hover, .item-sub-menu a:hover {
                text-decoration: none;
            }

        .item-menu a {
            display: block;
            background-color: rgb(44, 53, 66) !important;
        }

            .item-menu a:hover {
                background-color: #404f63 !important;
            }

        .item-sub-menu a {
            background-color: #364150 !important;
            padding-left: 25px;
        }

            .item-sub-menu a:hover {
                background-color: #3e4b5c !important;
            }

    .under_construction {
        height: 20px;
        width: 20px;
        float: right;
        margin-top: 5px;
    }

    .popover-content {
        padding: 0px;
        width: 200px;
    }

    .popover.right .arrow:after {
        border-right-color: rgb(44, 53, 66);
    }
</style>

<div class="page-content-wrapper">
    <div class="page-content" style=" padding-right: 30px;">

        <!--Circulo-->
        <div id="divMenu">
            <div class="row">
                <div class="col-xs-4">
                    <div class="seta seta270"></div>
                </div>
                <div class="col-xs-4">
                    <div role="button" tabindex="0" data-toggle="popover" data-trigger="focus" id="circulo1Plan" class="circuloPDCA">
                        <p>@Resources.Resource.planning</p>
                    </div>
                </div>
                <div class="col-xs-4">
                    <div class="seta"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <div role="button" tabindex="0" data-toggle="popover" data-trigger="focus" id="circulo4Action" class="circuloPDCA">
                        @Resources.Resource.chronic_problems_and_anomaly_reports
                    </div>
                </div>
                <div class="col-xs-4">
                </div>
                <div class="col-xs-4">
                    <div role="button" tabindex="0" data-toggle="popover" data-trigger="focus" id="circulo2Do" class="circuloPDCA">
                        @Resources.Resource.data_collect_execution_and_action_plan
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <div class="seta seta180"></div>
                </div>
                <div class="col-xs-4">
                    <div role="button" tabindex="0" data-toggle="popover" data-trigger="focus" id="circulo3Check" class="circuloPDCA">
                        @Resources.Resource.result_evaluation_and_deviation_communication
                    </div>
                </div>
                <div class="col-xs-4">
                    <div class="seta seta90"></div>
                </div>
            </div>

            <!--Listagem-->
            <div id="fundoMenuSuperior">
                @*Plan*@
                <div id="menu1Plan">

                    @{
                        var lista = Model.Where(x => x.PDCAMenuItem == (int)Enums.PDCAMenuItem.Plan).ToList();
                    }

                    @foreach (var item in lista)
                    {
                        if (item.Url != null)
                        {
                            <div class="col-xs-12 item-menu"><a href="@Url.Content(item.Url)">@item.Name</a></div>
                        }
                    }

                </div>

                @*DO*@
                <div id="menu2Do">
                    @{
                        lista = Model.Where(x => x.PDCAMenuItem == (int)Enums.PDCAMenuItem.Do).ToList();
                    }

                    @foreach (var item in lista)
                    {
                        if (item.Url != null)
                        {
                            <div class="col-xs-12 item-menu"><a href="@Url.Content(item.Url)">@item.Name</a></div>
                        }
                    }

                </div>

                @*Check*@
                <div id="menu3Check">

                    @{
                        lista = Model.Where(x => x.PDCAMenuItem == (int)Enums.PDCAMenuItem.Check).ToList();
                    }

                    @foreach (var item in lista)
                    {
                        if (item.Url != null)
                        {
                            <div class="col-xs-12 item-menu"><a href="@Url.Content(item.Url)">@item.Name</a></div>
                        }
                    }

                </div>

                @*Action*@
                <div id="menu4Action">

                    @{
                        lista = Model.Where(x => x.PDCAMenuItem == (int)Enums.PDCAMenuItem.Action).ToList();
                    }

                    @foreach (var item in lista)
                    {
                        if (item.Url != null)
                        {
                            <div class="col-xs-12 item-menu"><a href="@Url.Content(item.Url)">@item.Name</a></div>
                        }
                    }
                </div>

            </div>

        </div>

    </div>

</div>

<script type="text/javascript">
    $(function () {
        $('#circulo1Plan[data-toggle="popover"]').popover({
            container: 'body',
            html: true,
            content: function () {
                var clone = $("#menu1Plan").html();
                return clone;
            }
        }).click(function (e) {
            e.preventDefault();
        });
    });

    $(function () {
        $('#circulo2Do[data-toggle="popover"]').popover({
            container: 'body',
            html: true,
            content: function () {
                var clone = $("#menu2Do").html();
                return clone;
            }
        }).click(function (e) {
            e.preventDefault();
        });
    });

    $(function () {
        $('#circulo3Check[data-toggle="popover"]').popover({
            container: 'body',
            html: true,
            content: function () {
                var clone = $("#menu3Check").html();
                return clone;
            }
        }).click(function (e) {
            e.preventDefault();
        });
    });

    $(function () {
        $('#circulo4Action[data-toggle="popover"]').popover({
            container: 'body',
            html: true,
            content: function () {
                var clone = $("#menu4Action").html();
                return clone;
            }
        }).click(function (e) {
            e.preventDefault();
        });
    });
</script>

<script>

    $(document).ready(function () {
        $(".sidebar-toggler").removeClass("hide");
        $(".page-sidebar-wrapper").removeClass("hide");
        closeLeftSidebar();
    });

    var version = '@Html.Raw(ViewBag.Asembly)';

</script>
