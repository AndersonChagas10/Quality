@using DTO
<li>
    <div data-ng-controller="CtrlClstRegUnitCriticalLevel123" id="showClustRegUnitCriticalLevel123" style="display:none; margin-left:0px!important">
        <div id="showModulo2">
            <span class="redLabel">@Resources.Resource.cluster_group</span>
            <select id="clusterGroupId" data-ng-model="clusterGroupValue"
                    data-ng-options="c.Id as c.Name for c in clusterGroup |orderBy:'Name' track by c.Id"
                    data-ng-change="GetListClusterVinculadoClusterGroup()" class="form-control" style="width:210px">
                <option value="">@Resources.Resource.select</option>
            </select>
        </div>
        <div>
            <span class="redLabel">@Resources.Resource.cluster</span>
            <select id="clusterId" data-ng-model="clusterValue"
                    @Html.Raw(ViewBag.ClusterIdArr != null ? "multiple='multiple'":"")
                    data-ng-change="GetListStructureVinculadoCluster()" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.ClusterIdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="c in cluster |orderBy:'Name' track by c.Id" value="{{c.Id}}">{{c.Name}}</option>
            </select>
        </div>
        @if (GlobalConfig.Brasil)
        {
            <div>
                <span class="redLabel">@Resources.Resource.structure</span>
                <select id="structureId" data-ng-model="structureValue"
                        @Html.Raw(ViewBag.StructureIdArr != null ? "multiple='multiple'":"")
                        data-ng-change="GetListUnitVinculadoStructure()" class="form-control" style="width:210px">
                    @Html.Raw(ViewBag.StructureIdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                    <option ng-repeat="s in structure |orderBy:'Name' track by s.Id" value="{{s.Id}}">{{s.Name}}</option>
                </select>
            </div>
        }
        <div>
            <span class="redLabel">@Resources.Resource.unit</span>
            <select id="unitIdV" data-ng-model="unitValue"
                    @Html.Raw(ViewBag.UnitIdArr != null ? "multiple='multiple'":"")
                    data-ng-change="AtribuiObject()" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.UnitIdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="u in unit |orderBy:'Name' track by u.Id" value="{{u.Id}}">{{u.Name}}</option>
            </select>
        </div>

        @*Este campo está sendo utilizado como departamento para a JBS EUA na seguinte data 25/10/2017*@
        <div>
            <span class="redLabel">@Resources.Resource.department</span>
            <select id="criticalLevelId" data-ng-model="criticalLevelValue"
                        @Html.Raw(ViewBag.CriticalLevelIdArr != null ? "multiple='multiple'":"")
                    data-ng-change="GetLevel1ByCriticalLevel()" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.CriticalLevelIdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="cl in criticalLevel | orderBy:'Name' track by cl.Id" value="{{cl.Id}}">{{cl.Name}}</option>
            </select>
        </div>
        <div class="levels">
            <span class="redLabel">@Resources.Resource.level1</span>
            <select id="level1Idv" data-ng-model="level1Value"
                    @Html.Raw(ViewBag.Level1IdArr != null ? "multiple='multiple'":"")
                    data-ng-change="GetListLevel2VinculadoLevel1()" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.Level1IdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="s in level1 | filter:({ShowScorecard: true} || {ShowScorecard: null}) | orderBy:'Name'" value="{{s.Id}}">{{s.Name}}</option>
            </select>
        </div>

        <div class="levels">
            <span class="redLabel">@Resources.Resource.level2</span>
            <select id="level2Idv" data-ng-model="level2Value"
                    @Html.Raw(ViewBag.Level2IdArr != null ? "multiple='multiple'":"")
                    data-ng-change="GetListLevel3VinculadoLevel2()" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.Level2IdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="s in level2 | orderBy:'Name'" value="{{s.Id}}">{{s.Name}}</option>
            </select>
        </div>

        <div  class="levels" style="display:none">
            <span class="redLabel">@Resources.Resource.level3</span>
            <select id="level3Idv" data-ng-model="level3Value"
                    @Html.Raw(ViewBag.Level3IdArr != null ? "multiple='multiple'":"")
                    data-ng-change="" class="form-control" style="width:210px">
                @Html.Raw(ViewBag.Level3IdArr != null ? "" : $"<option value=''>{Resources.Resource.select}</option>")
                <option ng-repeat="s in level3 | orderBy:'Name'" value="{{s.Id}}">{{s.Name}}</option>
            </select>
        </div>
    </div>
</li>

<script>
    //var UserId = GetUsuarioId();
    var UnitList = @Html.Raw(Json.Encode(ViewBag.UnidadeUsuario));   
    var GetListClusterGroup = @Html.Raw(Json.Encode(Url.Action("GetParClusterGroup", "api/SelectVinculadoApi")));
    var GetListCluster = @Html.Raw(Json.Encode(Url.Action("GetParCluster", "api/SelectVinculadoApi")));
    var GetListStructure = @Html.Raw(Json.Encode(Url.Action("GetParStructure", "api/SelectVinculadoApi")));
    var GetListUnitVinculado = @Html.Raw(Json.Encode(Url.Action("GetParCompany", "api/SelectVinculadoApi")));
    var GetListCriticalLevelVinculadoCluster = @Html.Raw(Json.Encode(Url.Action("GetParCriticalLevel", "api/SelectVinculadoApi")));
    var GetListLevel1 = @Html.Raw(Json.Encode(Url.Action("GetListLevel1", "api/ParamsApi")));
    var GetListLevel2 = @Html.Raw(Json.Encode(Url.Action("GetListLevel2", "api/ParamsApi")));
    var GetListLevel3 = @Html.Raw(Json.Encode(Url.Action("GetListLevel3", "api/ParamsApi")));
    var GetListLevel1VinculadoCriticalLevel = @Html.Raw(Json.Encode(Url.Action("GetLevel1ParCriticalLevel", "api/SelectVinculadoApi")));
    var GetListLevel2VinculadoLevel1 = @Html.Raw(Json.Encode(Url.Action("GetListLevel2VinculadoLevel1", "api/ParamsApi")));
    var GetListLevel3VinculadoLevel2 = @Html.Raw(Json.Encode(Url.Action("GetListLevel3VinculadoLevel2", "api/ParamsApi")));
    var GetListLevel3VinculadoLevel2Level1 = @Html.Raw(Json.Encode(Url.Action("GetListLevel3VinculadoLevel2Level1", "api/ParamsApi")));
    


    $(document).ready(function () {
        //$('#').select2();
        //$('#').select2();
        //$('#').select2();
    });

</script>

@*Referencing the Angular library to the page*@
<script src="~/Angular/ClusterRegionalUnidadeCriticalLevel123.js"></script>