@model Dominio.ManDataCollectIT


<div class="page-content-wrapper">
    <!-- BEGIN CONTENT BODY -->
    <div class="page-content" style="min-height: 650px;">

        <table id="dataTable" class="display" width="100%" cellspacing="0">
            <thead>
                <tr>
                    <th>Descrição da Coleta</th>
                    <th>Quantidade</th>
                    <th>Comentarios</th>
                    <th>Salvar</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Descrição da Coleta</th>
                    <th>Quantidade</th>
                    <th>Comentarios</th>
                    <th>Salvar</th>
                </tr>
            </tfoot>
            <tbody></tbody>
        </table>

    </div>
</div>

<script>

    var urlEdit = ""


    $(document).ready(function () {

        var myDarlingViewBag = @Html.Raw(Json.Encode(ViewBag.listaDataDataType));

        if(myDarlingViewBag != null){

            for (var i = 0; i < myDarlingViewBag.length; i++) {

                var newRow = $("<tr>");
                var cols = "";

                cols += '<td>'+$(myDarlingViewBag[i]).attr('TechnicalIndicator')+'</td>';

                //cols += '<td style="display:none;">'+$(myDarlingViewBag[i]).attr('id')+'</td>';

                cols += '<td><input id="row-1-" name="row-1-age" value="" type="text"></td>';

                cols += '<td><input id="row-1-position" name="row-1-position" value="" type="text"></td>';

                cols += '<td><button id="save" class="btn btn-large btn-danger" type="button">Salvar</button></td>';

                cols += '</td>';

                newRow.append(cols);

                $("#dataTable").append(newRow);

            }

        }

        var table = $('#dataTable').DataTable({
            'initComplete': function() {
                $('#dataTable tbody').on('click', 'button', function (data, a, b) {
                    var data = table.row($(this).parents('tr')).data();
                    $.post(urlEdit + "/", function (r, x, e) {
                    });
                    
                });
            }
        });

    });

</script>
