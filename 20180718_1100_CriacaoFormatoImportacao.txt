-- 18 07 2018 - Marcos (Criação das tabelas relacionadas ao formato de improtação)

Insert into MigrationHistory (Name, AddDate) VALUES ('20180718_1100_CriacaoFormatoImportacao',GetDate())

GO

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ImportFormats' AND xtype='U')
create table ImportFormats (
	[Id] int IDENTITY(1,1) primary key not null,
	[Title] varchar(255) not null,
	[AddDate] datetime2 not null,
	[AlterDate] datetime2 null,
	[IsActive] bit null
)

GO

IF NOT EXISTS (SELECT * FROM sysobjects WHERE name='ImportFormatItems' AND xtype='U')
create table ImportFormatItems (
	[Id] int IDENTITY(1,1) primary key not null,
	[Key] varchar(100) null,
	[Value] varchar(100) null,
	[AddDate] date not null,
	[AlterDate] date null,
	[ImportFormat_Id] int not null FOREIGN KEY REFERENCES ImportFormats(Id)
)

GO
