@model PlanoAcaoCore.Pa_Acao
@using PlanoAcaoCore
@if (Conn.visaoOperacional)
{
    <style>
        .showAsEstrategy {
            display: none;
        }
    </style>
}
<div style="display:none" id="obj">
    <p>
        <button id="AddAcao" aria-expanded="false" data-target="#collapsible_obj_0" data-toggle="collapse" class="btn btn-default hidden">@Resources.Resource.action_name</button>
        &nbsp;<span data-toggle="tooltip" title="@Resources.Resource.delete_action" class="glyphicon glyphicon-trash" style="cursor:pointer" onclick="RemoveAcao(this)"></span>
    </p>
    @*<div style="height: 0px;" aria-expanded="false" id="collapsible_obj_0" class="collapse in">*@

    <form id="Acao" class="Acao">

        @Html.HiddenFor(r => r.Id)
        @Html.HiddenFor(r => r.Panejamento_Id)

        <table class="nowrap .col-md-6 .col-md-offset-3 table table-striped" style="width: 100%;">
            <tbody id="test">

                <tr>
                    <td style="width: 24%;">
                        @Html.LabelFor(model => model.Unidade_Id, Resources.Resource.unit,htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td style="width: 60%;">
                        @Html.DropDownList("Unidade_Id", new SelectList(ViewBag.Unidade, "Id", "Name"), Resources.Resource.select2, new { @class = "form-control input-sm required" })
                        @Html.ValidationMessageFor(model => model.Unidade_Id, "", new { @class = "text-danger " })
                    </td>
                    <td style="width: 16%;"></td>
                </tr>
                @* <tr>
                        <td>
                            @Html.LabelFor(model => model.Departamento_Id, htmlAttributes: new { @class = "control-label " })
                        </td>
                        <td>
                            @Html.DropDownList("Departamento_Id", new SelectList(ViewBag.Departamento, "Id", "Name"), "Selecione...", new { @class = "form-control input-sm" })
                            @Html.ValidationMessageFor(model => model.Departamento_Id, "", new { @class = "text-danger" })
                        </td>
                        <td></td>
                    </tr>*@
                <tr class="showAsEstrategy">
                    <td style="width: 24%;">
                        @Html.Label(Resources.Resource.indicator_type, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td style="width: 60%;">
                        <select name="TipoIndicador" class="form-control input-sm" id="tipoIndicador">
                            <option value="0">@Resources.Resource.select2</option>
                            <option value="1">@Resources.Resource.indicators_guidelines</option>
                            <option value="2">Indicador Scorecard</option>
                        </select>
                    </td>
                    <td style="width: 16%;"></td>
                </tr>

                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level1Id, Resources.Resource.indicator,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level1Id, new SelectList(ViewBag.Level1, "Id", "name"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level2Id, Resources.Resource.monitoring,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level2Id, new SelectList(ViewBag.Level2, "Id", "name"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level3Id, Resources.Resource.task,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level3Id, new SelectList(ViewBag.Level3, "Id", "name"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>


                <tr style="display:none" class="IndicadorOutros">
                    <td>
                        @Html.LabelFor(r => r.Pa_IndicadorSgqAcao_Id, Resources.Resource.operational_indicator,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @*@Html.DropDownListFor(r => r.Pa_IndicadorSgqAcao_Id, new SelectList(ViewBag.Pa_IndicadorSgqAcao, "Id", "name"), "Selecione...", new { @class = "form-control input-sm" })*@
                        @Html.DropDownList("Pa_IndicadorSgqAcao_Id", new SelectList(ViewBag.Pa_IndicadorSgqAcao, "Id", "name"), Resources.Resource.select, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy" style="display:none;">
                    <td>
                        @Html.LabelFor(r => r.Pa_Problema_Desvio_Id, Resources.Resource.problem_deviation,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @*@Html.DropDownListFor(r => r.Pa_Problema_Desvio_Id, new SelectList(ViewBag.Pa_Problema_Desvio, "Id", "name"), "Selecione...", new { @class = "form-control input-sm" })*@
                        @Html.DropDownList("Pa_Problema_Desvio_Id", new SelectList(ViewBag.Pa_Problema_Desvio, "Id", "name"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(Resources.Resource.generic_cause, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.CausaGenerica_Id, new SelectList(ViewBag.CausaGenerica, "Id", "CausaGenerica"), Resources.Resource.select2, new { @class = "form-control input-sm required" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(Resources.Resource.group_cause, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td id="GrupoCausa">
                        @Html.DropDownListFor(r => r.GrupoCausa_Id, new SelectList(ViewBag.GrupoCausa, "Id", "GrupoCausa"), Resources.Resource.select2, new { @class = "form-control input-sm", @disabled = true })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(Resources.Resource.generic_action, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td id="ContramedidaGenerica">
                        @Html.DropDownListFor(r => r.ContramedidaGenerica_Id, new SelectList(ViewBag.ContramedidaGenerica, "Id", "ContramedidaGenerica"), Resources.Resource.select2, new { @class = "form-control input-sm", @disabled = true })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameCausaEspecifica, Resources.Resource.specific_cause,htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.EditorFor(r => r.CausaEspecifica, new { htmlAttributes = new { @class = "form-control required" } })

                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameContramedidaEspecifica, Resources.Resource.specific_action,htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.EditorFor(r => r.ContramedidaEspecifica, new { htmlAttributes = new { @class = "form-control required" } })
                    </td>
                    <td></td>
                </tr>

                <tr rowspan="2" class="tr_clone quemClone" id="quem">
                    <td>
                        @Html.Label(Resources.Resource.who, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Quem_Id, new SelectList(ViewBag.Quem, "Id", "Name"), Resources.Resource.select2, new { @class = "form-control input-sm required" })
                    </td>
                    <td style="text-align: center; display:none; vertical-align: bottom;" id="CausaMedidasXAcaoAdd">

                        @*<button id="adicionar" type="button" class="btn btn-default btn-sm" onclick="Adicionar(this);">
                                <span class="glyphicon glyphicon-plus"></span> Adicionar
                            </button>

                            <button id="remove" style="display:none" type="button" class="btn btn-default btn-sm" onclick="Remover(this);">
                                <span class="glyphicon glyphicon-remove"></span> Remover
                            </button>*@
                    </td>
                </tr>
                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuandoInicio, Resources.Resource.when_start2,htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.Editor("_QuandoInicio", new { htmlAttributes = new { @class = "form-control datepicker required" } })
                        @Html.ValidationMessageFor(model => model.QuandoInicio, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                @*<tr>
                        <td>
                            @Html.LabelFor(model => model.DuracaoDias, htmlAttributes: new { @class = "control-label " })
                        </td>
                        <td>
                            @Html.EditorFor(model => model.DuracaoDias, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.DuracaoDias, "", new { @class = "text-danger" })
                        </td>
                        <td></td>
                    </tr>*@
                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuandoFim, Resources.Resource.when_end2,htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.Editor("_QuandoFim", new { htmlAttributes = new { @class = "form-control datepicker required" } })
                        @Html.ValidationMessageFor(model => model.QuandoFim, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameComoPontosImportantes, Resources.Resource.as_important_points,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.EditorFor(model => model.ComoPontosimportantes, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ComoPontosimportantes, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                @*<tr>
                        <td>
                            @Html.LabelFor(model => model.Predecessora_Id, htmlAttributes: new { @class = "control-label " })
                        </td>
                        <td>
                            @Html.DropDownList("Predecessora_Id", new SelectList(ViewBag.Predecessora, "Id", "Id"), "Selecione...", new { @class = "form-control input-sm" })
                            @Html.ValidationMessageFor(model => model.Predecessora_Id, "", new { @class = "text-danger" })
                        </td>
                        <td></td>
                    </tr>*@
                <tr class="showAsEstrategy">
                    <td>
                        @Html.LabelFor(model => model.PraQue, Resources.Resource.for_what,htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.EditorFor(model => model.PraQue, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.PraQue, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Resources.Resource.unit_measurement, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(model => model.UnidadeDeMedida_Id, new SelectList(ViewBag.UnidadeMedida, "Id", "Name"), new { @class = "form-control input-sm UnidadeMedida" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuantoCusta, Resources.Resource.how_much,htmlAttributes: new { @class = "control-label" })
                    </td>
                    <td>
                        @Html.Editor("_QuantoCusta", new { htmlAttributes = new { @class = "form-control QuantoCusta", @autocomplete = "off" } })
                        @*@Html.ValidationMessageFor(model => model.QuantoCusta, "", new { @class = "text-danger" })*@
                        @Html.ValidationMessageFor(model => model._QuantoCusta, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                @if (Model != null)
                {
                    if (Model.Id > 0)
                    {
                        <tr>
                            <td>
                                @Html.LabelFor(model => model.Status, Resources.Resource.status,htmlAttributes: new { @class = "control-label " })
                            </td>
                            <td>
                                @Html.DropDownList("Status", new SelectList(ViewBag.Status, "Id", "Name"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                                @Html.ValidationMessageFor(model => model.Status, "", new { @class = "text-danger" })
                            </td>
                            <td></td>
                        </tr>
                    }
                }

                @if (ViewBag.Panejamento != null)
                {
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Panejamento_Id, Resources.Resource.planning, htmlAttributes: new { @class = "control-label " })
                        </td>
                        <td>
                            @Html.DropDownList("Panejamento_Id", new SelectList(ViewBag.Panejamento, "Id", "Id"), Resources.Resource.select2, new { @class = "form-control input-sm" })
                            @Html.ValidationMessageFor(model => model.Panejamento_Id, "", new { @class = "text-danger" })
                        </td>
                        <td></td>
                    </tr>
                }
            </tbody>
        </table>
    </form>
</div>
<hr />
@*</div>*@
<div id="final"></div>

<script>
    $(function () {
        $('#AddAcao').click();
    });
</script>

