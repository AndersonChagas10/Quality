@model PlanoAcaoCore.Pa_Acao
@using PlanoAcaoCore
@if (Conn.visaoOperacional)
{
    <style>
        .showAsEstrategy {
            display: none;
        }
    </style>
}
<div style="display:none" id="obj">
    <p>
        <button id="AddAcao" aria-expanded="false" data-target="#collapsible_obj_0" data-toggle="collapse" class="btn btn-default hidden">@ResourcesPA.Resource.action_name</button>
        &nbsp;<span data-toggle="tooltip" title="@ResourcesPA.Resource.delete_action" class="glyphicon glyphicon-trash" style="cursor:pointer" onclick="RemoveAcao(this)"></span>
    </p>


    <form id="Acao" class="Acao">

        @Html.HiddenFor(r => r.Id)
        @Html.HiddenFor(r => r.Panejamento_Id)

        <table class="nowrap .col-md-6 .col-md-offset-3 table table-striped" style="width: 100%;">
            <tbody id="test">

                <tr>
                    <td style="width: 24%;">
                        @Html.LabelFor(model => model.Unidade_Id, ResourcesPA.Resource.unit, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td style="width: 60%;">
                        @Html.DropDownList("Unidade_Id", new SelectList(ViewBag.Unidade, "Id", "Name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm required" })
                        @Html.ValidationMessageFor(model => model.Unidade_Id, "", new { @class = "text-danger " })
                    </td>
                    <td style="width: 16%;"></td>
                </tr>

                <tr class="showAsEstrategy">
                    <td style="width: 24%;">
                        @Html.Label(ResourcesPA.Resource.indicator_type, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td style="width: 60%;">
                        <select name="TipoIndicador" class="form-control input-sm" id="tipoIndicador">
                            <option value="0">@ResourcesPA.Resource.select2</option>
                            <option value="1">@ResourcesPA.Resource.indicators_guidelines</option>
                            <option value="2">Indicador Scorecard</option>
                        </select>
                    </td>
                    <td style="width: 16%;"></td>
                </tr>

                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level1Id, ResourcesPA.Resource.indicator, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level1Id, new SelectList(ViewBag.Level1, "Id", "name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level2Id, ResourcesPA.Resource.monitoring, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level2Id, new SelectList(ViewBag.Level2, "Id", "name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr style="display:none" class="IndicadorSgq">
                    <td>
                        @Html.LabelFor(r => r.Level3Id, ResourcesPA.Resource.task, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Level3Id, new SelectList(ViewBag.Level3, "Id", "name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>


                <tr style="display:none" class="IndicadorOutros">
                    <td>
                        @Html.LabelFor(r => r.Pa_IndicadorSgqAcao_Id, ResourcesPA.Resource.operational_indicator, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownList("Pa_IndicadorSgqAcao_Id", new SelectList(ViewBag.Pa_IndicadorSgqAcao, "Id", "name"), ResourcesPA.Resource.select, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy" style="display:none;">
                    <td>
                        @Html.LabelFor(r => r.Pa_Problema_Desvio_Id, ResourcesPA.Resource.problem_deviation, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownList("Pa_Problema_Desvio_Id", new SelectList(ViewBag.Pa_Problema_Desvio, "Id", "name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(ResourcesPA.Resource.generic_cause, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.CausaGenerica_Id, new SelectList(ViewBag.CausaGenerica, "Id", "CausaGenerica"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm required" })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(ResourcesPA.Resource.group_cause, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td id="GrupoCausa">
                        @Html.DropDownListFor(r => r.GrupoCausa_Id, new SelectList(ViewBag.GrupoCausa, "Id", "GrupoCausa"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm", @disabled = true })
                    </td>
                    <td></td>
                </tr>
                <tr class="showAsEstrategy">
                    <td>
                        @Html.Label(ResourcesPA.Resource.generic_action, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td id="ContramedidaGenerica">
                        @Html.DropDownListFor(r => r.ContramedidaGenerica_Id, new SelectList(ViewBag.ContramedidaGenerica, "Id", "ContramedidaGenerica"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm", @disabled = true })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameCausaEspecifica, ResourcesPA.Resource.specific_cause, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.EditorFor(r => r.CausaEspecifica, new { htmlAttributes = new { @class = "form-control required" } })

                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameContramedidaEspecifica, ResourcesPA.Resource.specific_action, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.EditorFor(r => r.ContramedidaEspecifica, new { htmlAttributes = new { @class = "form-control required" } })
                    </td>
                    <td></td>
                </tr>

                <tr rowspan="2" class="tr_clone quemClone" id="quem">
                    <td>
                        @Html.Label(ResourcesPA.Resource.who, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.DropDownListFor(r => r.Quem_Id, new SelectList(ViewBag.Quem, "Id", "Name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm required" })
                    </td>
                    <td style="text-align: center; display:none; vertical-align: bottom;" id="CausaMedidasXAcaoAdd">

                    </td>
                </tr>
                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuandoInicio, ResourcesPA.Resource.when_start2, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.Editor("_QuandoInicio", new { htmlAttributes = new { @class = "form-control datepicker required" } })
                        @Html.ValidationMessageFor(model => model.QuandoInicio, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuandoFim, ResourcesPA.Resource.when_end2, htmlAttributes: new { @class = "control-label " })
                        <i style="color:red">*</i>
                    </td>
                    <td>
                        @Html.Editor("_QuandoFim", new { htmlAttributes = new { @class = "form-control datepicker required" } })
                        @Html.ValidationMessageFor(model => model.QuandoFim, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(Conn.nameComoPontosImportantes, ResourcesPA.Resource.as_important_points, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.EditorFor(model => model.ComoPontosimportantes, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ComoPontosimportantes, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>

                <tr class="showAsEstrategy">
                    <td>
                        @Html.LabelFor(model => model.PraQue, ResourcesPA.Resource.for_what, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.EditorFor(model => model.PraQue, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.PraQue, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.Label(ResourcesPA.Resource.unit_measurement, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @Html.DropDownListFor(model => model.UnidadeDeMedida_Id, new SelectList(ViewBag.UnidadeMedida, "Id", "Name"), new { @class = "form-control input-sm UnidadeMedida" })
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        @Html.LabelFor(model => model.QuantoCusta, ResourcesPA.Resource.how_much, htmlAttributes: new { @class = "control-label" })
                    </td>
                    <td>
                        @Html.Editor("_QuantoCusta", new { htmlAttributes = new { @class = "form-control QuantoCusta", @autocomplete = "off" } })
                        @Html.ValidationMessageFor(model => model._QuantoCusta, "", new { @class = "text-danger" })
                    </td>
                    <td></td>
                </tr>
                @if (Model != null)
                {
                    if (Model.Id > 0)
                    {
                        <tr>
                            <td>
                                @Html.LabelFor(model => model.Status, ResourcesPA.Resource.status, htmlAttributes: new { @class = "control-label " })
                            </td>
                            <td>
                                @Html.DropDownList("Status", new SelectList(ViewBag.Status, "Id", "Name"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                                @Html.ValidationMessageFor(model => model.Status, "", new { @class = "text-danger" })
                            </td>
                            <td></td>
                        </tr>
                    }
                }

                @if (ViewBag.Panejamento != null)
                {
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Panejamento_Id, ResourcesPA.Resource.planning, htmlAttributes: new { @class = "control-label " })
                        </td>
                        <td>
                            @Html.DropDownList("Panejamento_Id", new SelectList(ViewBag.Panejamento, "Id", "Id"), ResourcesPA.Resource.select2, new { @class = "form-control input-sm" })
                            @Html.ValidationMessageFor(model => model.Panejamento_Id, "", new { @class = "text-danger" })
                        </td>
                        <td></td>
                    </tr>
                }

                <tr>
                    <td>
                        @Html.LabelFor(model => model.IsActive, ResourcesPA.Resource.active, htmlAttributes: new { @class = "control-label " })
                    </td>
                    <td>
                        @{
                            string IsActive = "";
                            string IsActiveBool = "false";
                            if (Model != null && Model.IsActive)
                            {
                                IsActive = "checked";
                                IsActiveBool = "true";
                            }
                            <input @IsActive name="IsActive" class="input-sm required" data-val-required="O campo IsActive é obrigatório." id="IsActive" type="checkbox" value="@IsActiveBool" onclick="this.value = this.checked">
                        }
                    </td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </form>
</div>
<hr />

<div id="final"></div>

<script>
    $(function () {
        $('#AddAcao').click();
    });
</script>

